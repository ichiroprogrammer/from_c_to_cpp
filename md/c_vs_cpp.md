# CとC++の比較

C++でプログラミングを行う場合、それが直ちにOOD(オブジェクト指向)を意味するわけではないが、
このドキュメントでは、話を簡略化するため、C++と書いた場合、それはC++/OODを指すことにする。

<!-- index 1-3 -->

# C vs C++(マネージメント向け)

| 観点                   | Cを使い続ける                                    | C++/OODに移行                                        |
| ---------------------- | ------------------------------------------------ | ---------------------------------------------------- |
| **初期投資**           | 追加投資なし                                     | 「[C++習熟に向けて](---)」参照                       |
| **開発速度(短期)**     | 継続利用で学習コストゼロ → 短期的には速い        | 習熟までは開発速度が一時的に低下                     |
| **開発速度(中長期)**   | 規模増大で、保守・追加が難しく、速度低下         | OOD・テスト基盤により変更・拡張が容易 → 中長期で加速 |
| **品質・不具合コスト** | 手続き的設計で品質は開発者依存 →  品質バラつき大 | クラス設計＋自動テストで品質を担保しやすい           |
| **製品差異対応**       | `#ifdef`や複数バイナリで管理 →  保守コスト増     | 継承/オーバーライドで差分管理可能                    |
| **リスク**             | 技術的負債が増えやすい(リファクタリングがこんな) | 学習コスト高だが、リファクタリング容易               |

---

# C vs C++(エンジニア向け)

| 観点                | Cを使い続ける                       | C++/OODに移行                                                          |
| ------------------- | ----------------------------------- | ---------------------------------------------------------------------- |
| **学習コスト**      | 既存スキルを活用 → 学習不要         | [ストラウストラップ本](---)、[コーディングルール](---)、[OOD設計](---) |
| **設計の自由度**    | 構造体＋関数群で擬似クラス設計      | クラス・RAII・STLで設計の表現力が大幅向上                              |
| **テスト容易性**    | 単体テストが難しい                  | Google Testで自動化可能、TDD的開発もやりやすい                         |
| **設計メトリクス**  | CCくらいしか使えない                | CC/LCOM/結合度など                                                     |
| **リソース管理**    | 静的変数・malloc/freeに依存しがち   | RAII・スマートポインタで安全に管理可能                                 |
| **拡張性**          | コードの分岐・#ifdefが増える        | OODで差分吸収しやすく、コードが整理される                              |
| **パフォーマンス**  | 制御が直感的、速度を出しやすい      | 誤用すればオーバーヘッド増だが、正しく使えばCと同等                    |


**設計メトリクス** 

* CC: サイクロマチック複雑度
* LCOM: 凝集性の欠如

---


